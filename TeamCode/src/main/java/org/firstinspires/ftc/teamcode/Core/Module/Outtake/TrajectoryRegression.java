package org.firstinspires.ftc.teamcode.Core.Module.Outtake;

import static java.lang.Double.max;

public class TrajectoryRegression {
    private static final double[] setDown = { 5.585132074254942e-44d, -1.8854211950640406e-40d, 2.76357876873917e-37d, -2.2331584780330814e-34d, 9.929354353720153e-32d, -1.4218042767276446e-29d, -9.33921966927388e-27d, 5.6673409746638655e-24d, -6.694512503125435e-22d, -6.307976793543907e-19d, 4.138191227101554e-16d, -1.377922309122005e-13d, 3.083478442897163e-11d, -4.987453499607144e-09d, 5.972757436948574e-07d, -5.308481273211793e-05d, 0.003456176852011372d, -0.15995491948004198d, 4.973306918846195d, -92.91049791982536d, 788.3955933796611d };
    private static final double[] setUp = { 2.8018400255984564e-43d, -9.658060884555398e-40d, 1.4481089580651512e-36d, -1.2009709592796482e-33d, 5.529266962009386e-31d, -8.788316348823414e-29d, -4.950715613240139e-26d, 3.257356494755319e-23d, -4.49559006503232e-21d, -3.455513265040487e-18d, 2.4273468038614162e-15d, -8.390366829099213e-13d, 1.9384776067249482e-10d, -3.231735313480256e-08d, 3.986272950949883e-06d, -0.0003647281021423681d, 0.024428963800861684d, -1.161993917056958d, 37.08854502115891d, -710.4486750798309d, 6159.061360380956d };
    private static final double[] setCompensation = { -3.5127417661534687e-44d, 1.3580125979749688e-40d, -2.2795911223215077e-37d, 2.124578513772447e-34d, -1.1230048707673122e-31d, 2.4444104920168872e-29d, 8.138959473140624e-27d, -7.391629489184381e-24d, 1.5047175288692427e-21d, 6.580332631293134e-19d, -5.882637273633581e-16d, 2.257339680038597e-13d, -5.6331168288528924e-11d, 1.0011285579621469e-08d, -1.3045014264015657e-06d, 0.0001251404345726291d, -0.008728027628494579d, 0.42953610180043555d, -14.097752663821158d, 276.064167711849d, -2431.0335052932d };
    private static double calculatePolinom(double[] coeffs, double x) {
        double result = 0.0;
        for (double c : coeffs) {
            result = result * x + c;
        }
        return result;
    }

    public static double calculateDown(double x) {
        return calculatePolinom(setDown, x);
    }

    public static double calculateUp(double x) {
        return calculatePolinom(setUp, x);
    }

    public static double calculateKC(double x) {
        return max(calculatePolinom(setCompensation, x),1);
    }
}